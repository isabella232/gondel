!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).gondelPluginEvents={})}(this,function(e){"use strict";var r=function(e,n,t){return t(e)},n=window.__gondelPluginEvents||{pluginMapping:{},pluginEvents:{}},o=(window.__gondelPluginEvents=n).pluginEvents,i=n.pluginMapping;function t(e,n,c){var t,e="".concat(n,"#").concat(e);i[e]||(i[e]=!0,o[n]||(o[n]=r),t=o[n],o[n]=function(e,o,i){t(e,o,function(e,n,t){c(e,o,function(e){i(e,o,t)})})})}var c="_gondel_";function m(e,n){e=e[c+n];if(e&&e._ctx)return e}var u=function(e,n){var t=window.Element.prototype,o=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.webkitMatchesSelector;return(u=function(e,n){return o.call(e,n)})(e,n)};function f(t,o,e){var i=function(e){for(var n=[],t=e;t;t=t.parentElement)n.push(t);return n}(e),c=[],r=(i.forEach(function(e,n){e=e.getAttribute(t),e=e&&o[e];e&&c.push({index:n,handlers:e})}),[]);return c.forEach(function(e){var t=e.index,o=e.handlers;Object.keys(o).forEach(function(e){if(!e)return r.push({index:t,ctx:i[t],target:i[t],handlerOptions:o[e]});for(var n=t;0<=--n;)if(u(i[n],e))return r.push({index:n,ctx:i[t],target:i[n],handlerOptions:o[e]})})}),0===r.length?[]:(r.sort(function(e,n){return e.index>n.index?1:e.index===n.index?0:-1}),r)}function s(r,u,a){for(var d=!1,f=[],e=0;e<r.length&&!u.cancelBubble;e++)!function(e){var n=r[e],t=n.handlerOptions,o=m(n.ctx,a);if(o){Object.defineProperty(u,"currentTarget",{get:function(){return n.target},configurable:!0}),d=!0;for(var i=0;i<t.length&&!u.cancelBubble;i++){var c=o[t[i].handlerName].call(o,u);"function"==typeof c&&f.push(c)}}}(e);f.forEach(function(e){e()}),d&&delete u.currentTarget}function l(e,n){e=Object.keys(e).map(function(e){return"[data-".concat(n,'-name="').concat(e,'"]')}).join(",");if(!e)return[];for(var t=document.documentElement.querySelectorAll(e),o=[],i=0;i<t.length;i++){var c=function(e,n){if(!(e=m(void 0!==(e=e).nodeType?e:e[0],n=void 0===n?"g":n)))throw new Error('Could not find a started gondel component in namespace "'.concat(n,"\",\nplease check if your component is mounted via 'hasMountedGondelComponent'"));return e}(t[i],n);c&&o.push(c)}return o}var a={resize:function(o,t){var i,r,c=!1,u=!1;function a(){u?requestAnimationFrame(a):(c=!1,r=void 0)}function d(o){var i,c;u=!1,r&&(i=r.map(function(e){e=e.node;return{width:e.clientWidth,height:e.clientHeight}}),c=[],r.forEach(function(n,e){var t=i[e];t.width===n.width&&t.height===n.height||n.component._stopped||(n.component.__resizeSize=t,n.width=t.width,n.height=t.height,n.selectors.forEach(function(e){return e.forEach(function(e){return c.push(e.call(n.component,o,t))})}))}),c.forEach(function(e){"function"==typeof e&&e()}))}window.addEventListener("resize",function(e){var n;c?u||(u=!0,window.requestAnimationFrame(d.bind(e))):(e=e,n=l(o,t),c=!0,r=n.map(function(n){var e=n.__resizeSize||{width:0,height:0},t=o[n._componentName];return{component:n,node:n._ctx,selectors:Object.keys(t).map(function(e){return t[e].map(function(e){return n[e.handlerName]})}),width:e.width,height:e.height}}),d(e)),clearTimeout(i),i=setTimeout(a,250)})},key:function(i,n){window.addEventListener("keydown",function(t){var e=l(i,n),o=[];e.forEach(function(n){Object.keys(i[n._componentName]).forEach(function(e){""!==e&&t.key!==e||i[n._componentName][e].forEach(function(e){o.push(n[e.handlerName].call(n,t))})})}),o.forEach(function(e){"function"==typeof e&&e()})})},"swipe-left":function(a,d){document.documentElement.addEventListener("mousedown",function(e){var n,t,o=f("data-".concat(d,"-name"),a,e.target);function i(e){(n=e).preventDefault(),t=t||requestAnimationFrame(c)}function c(){t=void 0,n.x-e.x<-100&&(s(o,n,d),r())}function r(){document.documentElement.removeEventListener("mousemove",i),document.documentElement.removeEventListener("mouseup",u),t&&cancelAnimationFrame(t)}function u(e){e.preventDefault(),r()}0!==o.length&&(e.preventDefault(),document.documentElement.addEventListener("mousemove",i),document.documentElement.addEventListener("mouseup",u))})},"swipe-right":function(a,d){document.documentElement.addEventListener("mousedown",function(e){var n,t,o=f("data-".concat(d,"-name"),a,e.target);function i(e){(n=e).preventDefault(),t=t||requestAnimationFrame(c)}function c(){t=void 0,100<n.x-e.x&&(s(o,n,d),r())}function r(){document.documentElement.removeEventListener("mousemove",i),document.documentElement.removeEventListener("mouseup",u),t&&cancelAnimationFrame(t)}function u(e){e.preventDefault(),r()}0!==o.length&&(e.preventDefault(),document.documentElement.addEventListener("mousemove",i),document.documentElement.addEventListener("mouseup",u))})}};e.initEventPlugin=function(){t("Events","registerEvent",function(e,n,t){var o=n.eventName,i=n.namespace,n=n.eventRegistry;a[o]?(a[o](n,i),t(!1)):t(e)}),t("Events","sync",function(e,n,t){setTimeout(function(){e.forEach(function(e){e.__resizeSize={width:e._ctx.clientWidth,height:e._ctx.clientHeight}})}),t(e)})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.es5.js.map
